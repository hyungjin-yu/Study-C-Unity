---
tags:
  - 디자인패턴
  - 프로퍼티
  - 컬렉션
  - 심플팩토리
---
# 디자인 패턴과 C# 문법

## 심플 팩토리 패턴 (Simple Factory Pattern)

### 개념
추상 함수를 사용하여 객체(클래스)를 생성하는 패턴

### 특징
- 팩토리 메서드 패턴과 추상 팩토리 패턴의 기초가 됨
- 객체 생성 로직을 캡슐화하여 클라이언트 코드와 분리

## 프로퍼티 (Property) #프로퍼티 #Getter_Setter

### 개념
Getter와 Setter를 직관적이고 편리하게 사용할 수 있는 C# 문법

### 일반 프로퍼티
```csharp
private int hp;  // 필드 (멤버 변수)

public int Hp
{
    get
    {
        return hp;
    }
    set
    {
        if (value >= 0)  // value는 set에서 자동으로 제공되는 매개변수
        {
            hp = value;
        }
    }
}
```

**특징**:
- `get`: 값을 읽을 때 실행
- `set`: 값을 쓸 때 실행
- `value`: set 접근자에 자동으로 전달되는 할당 값

### 자동 구현 프로퍼티 (Auto-Implemented Property) #자동구현프로퍼티
```csharp
public int Atk { get; set; }
```

**동작 원리**:
컴파일 시점에 자동으로 다음 코드로 변환됨:
```csharp
private int atk;  // 컴파일러가 자동 생성

public int GetAtk()
{
    return atk;
}

public void SetAtk(int value)
{
    atk = value;
}
```

**제한자 조합**:
```csharp
public int Atk { get; private set; }  // 외부 읽기 가능, 쓰기는 클래스 내부만
public int Hp { get; protected set; }  // 외부 읽기 가능, 쓰기는 상속 클래스까지
```

## 컬렉션 조회 메서드 #Stack #Queue #Peek메서드

### Stack - Peek()
```csharp
Stack<int> stack = new Stack<int>();
stack.Push(1);
stack.Push(2);
stack.Push(3);

int top = stack.Peek();  // 3 반환 (제거하지 않음)
// Stack 상태: 3, 2, 1 (그대로 유지)
```

**특징**:
- 스택의 **최상위 요소**를 확인
- 요소를 **제거하지 않음**

### Queue - Peek()
```csharp
Queue<string> queue = new Queue<string>();
queue.Enqueue("첫번째");
queue.Enqueue("두번째");
queue.Enqueue("세번째");

string first = queue.Peek();  // "첫번째" 반환 (제거하지 않음)
// Queue 상태: 첫번째, 두번째, 세번째 (그대로 유지)
```

**특징**:
- 큐의 **맨 앞 요소**를 확인
- 요소를 **제거하지 않음**

### Peek vs Pop/Dequeue

| 메서드 | 동작 | 반환 | 컬렉션 변경 |
|--------|------|------|-------------|
| Stack.Peek() | 최상위 조회 | 최상위 값 | X |
| Stack.Pop() | 최상위 제거 | 최상위 값 | O |
| Queue.Peek() | 맨 앞 조회 | 맨 앞 값 | X |
| Queue.Dequeue() | 맨 앞 제거 | 맨 앞 값 | O |

## 관련 개념
- 팩토리 메서드 패턴
- 추상 팩토리 패턴
- 캡슐화